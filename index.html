<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Productividad UQ 2024</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, updateDoc, doc, query, orderBy } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBbqMf8ZOmqmbGTmr2tr8nziyUWKSE6OWg",
            authDomain: "uniquindio-produccion.firebaseapp.com",
            projectId: "uniquindio-produccion",
            storageBucket: "uniquindio-produccion.firebasestorage.app",
            messagingSenderId: "440871309124",
            appId: "1:440871309124:web:108be1894adaf6ecaf1111"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        
        const urlAppsScript = "https://script.google.com/macros/s/AKfycbyKD0JyxaTKS6u3WXnJYgZl3aR5XEJ3v7DlbDOBBqk8KG4FYT5Wc23AqPIZf0vWAVND7g/exec";

        let rolActual = ''; 

        // CONTRASE√ëAS (Cambiar estas contrase√±as por las que desees)
        const CONTRASE√ëAS = {
            'JOSE': 'jose2026',  // Cambia esta contrase√±a
            'LINA': 'lina2026'   // Cambia esta contrase√±a
        };

        // --- NAVEGACI√ìN CON CONTRASE√ëA ---
        window.intentarLogin = (rol) => {
            const password = document.getElementById(`password-${rol.toLowerCase()}`).value;
            
            if (!password) {
                alert("‚ö†Ô∏è Por favor ingrese la contrase√±a");
                return;
            }
            
            if (password === CONTRASE√ëAS[rol]) {
                iniciarSesion(rol);
            } else {
                alert("‚ùå Contrase√±a incorrecta");
                document.getElementById(`password-${rol.toLowerCase()}`).value = '';
            }
        };

        function iniciarSesion(rol) {
            rolActual = rol;
            document.getElementById('pantalla-login').classList.add('hidden');
            
            if (rol === 'JOSE') {
                document.getElementById('panel-jose').classList.remove('hidden');
                document.getElementById('header-title').innerText = "RADICACI√ìN DE SOLICITUDES (JOS√â)";
                document.getElementById('header-bg').classList.add('bg-[#003d2b]');
            } else {
                document.getElementById('panel-lina').classList.remove('hidden');
                document.getElementById('header-title').innerText = "EVALUACI√ìN CIARP (LINA)";
                document.getElementById('header-bg').classList.add('bg-blue-900');
                cargarPendientesLina();
            }
        }

        // --- L√ìGICA JOS√â: CAMPOS DIN√ÅMICOS POR CATEGOR√çA ---
        window.cambiarCategoria = () => {
            const cat = document.getElementById('categoria').value;
            const container = document.getElementById('campos-especificos');
            const inputClass = "w-full p-2 border border-gray-300 rounded focus:border-green-600 outline-none";
            const labelClass = "block text-xs font-bold text-gray-500 uppercase mb-1";
            let html = '';

            // Campos seg√∫n categor√≠a (basado en Seguimiento 2024)
            if (cat.includes("Art√≠culos")) {
                html = `<div class="grid grid-cols-2 gap-4">
                    <div><label class="${labelClass}">ISSN Revista</label><input type="text" id="issn" class="${inputClass}"></div>
                    <div><label class="${labelClass}">Nombre de la Revista</label><input type="text" id="nombre_revista" class="${inputClass}"></div>
                    <div class="col-span-2"><label class="${labelClass}">Modalidad</label>
                    <select id="modalidad" class="${inputClass}">
                        <option>Full paper</option>
                        <option>Short paper</option>
                        <option>Review</option>
                    </select></div>
                </div>`;
            } else if (cat.includes("Ponencias")) {
                html = `<div class="grid grid-cols-2 gap-4">
                    <div><label class="${labelClass}">Nombre del Evento</label><input type="text" id="nombre_revista" class="${inputClass}"></div>
                    <div><label class="${labelClass}">Tipo</label>
                    <select id="modalidad" class="${inputClass}">
                        <option>Nacional</option>
                        <option>Internacional</option>
                    </select></div>
                </div>`;
            } else if (cat.includes("Libro")) {
                html = `<div class="grid grid-cols-2 gap-4">
                    <div><label class="${labelClass}">ISBN</label><input type="text" id="issn" class="${inputClass}"></div>
                    <div><label class="${labelClass}">Editorial</label><input type="text" id="nombre_revista" class="${inputClass}"></div>
                </div>`;
            } else {
                html = `<div><label class="${labelClass}">Informaci√≥n Adicional</label><input type="text" id="issn" class="${inputClass}"></div>`;
            }
            container.innerHTML = html;
        };

        // --- GUARDAR SOLICITUD (JOS√â) ---
        document.getElementById('form-jose').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('btn-jose');
            btn.innerText = "GUARDANDO..."; 
            btn.disabled = true;

            const registro = {
                // Datos de JOS√â (Seguimiento)
                anio: "2024",
                semestre: document.getElementById('semestre').value,
                categoria: document.getElementById('categoria').value,
                fecha_recibido: document.getElementById('fecha_recibido').value,
                titulo_producto: document.getElementById('titulo_producto').value,
                autor: document.getElementById('autor').value,
                programa: document.getElementById('programa').value,
                doc_completa: document.getElementById('doc_completa').value,
                observaciones_jose: document.getElementById('observaciones_jose').value,
                
                // Campos espec√≠ficos por categor√≠a
                issn: document.getElementById('issn')?.value || '',
                nombre_revista: document.getElementById('nombre_revista')?.value || '',
                modalidad: document.getElementById('modalidad')?.value || '',
                
                // Campos de LINA (vac√≠os inicialmente)
                estado_ciarp: "PENDIENTE",
                acta_ciarp: "",
                resolucion: "",
                documento_id: "",
                escolaridad: "",
                categoria_docente: "",
                dedicacion: "",
                pais: "",
                puntaje: 0,
                observaciones_lina: "",
                fecha_creacion: new Date().toISOString()
            };

            try {
                // 1. Firebase
                await addDoc(collection(db, 'registros_2024'), registro);
                
                // 2. Drive (backup)
                fetch(urlAppsScript, { 
                    method: 'POST',
                    body: JSON.stringify(registro),
                    headers: { 'Content-Type': 'application/json' }
                }).catch(e => console.log('Sync Drive:', e));

                alert("‚úÖ Solicitud Radicada Correctamente");
                e.target.reset();
                cambiarCategoria();
            } catch (err) { 
                alert("‚ùå Error: " + err.message); 
            } finally { 
                btn.innerText = "RADICAR SOLICITUD"; 
                btn.disabled = false; 
            }
        });

        // --- L√ìGICA LINA: CARGAR PENDIENTES ---
        async function cargarPendientesLina() {
            const tbody = document.getElementById('tabla-pendientes');
            tbody.innerHTML = '<tr><td colspan="6" class="text-center p-4 text-gray-500">Cargando solicitudes...</td></tr>';
            
            const q = query(collection(db, 'registros_2024'), orderBy('fecha_creacion', 'desc'));
            const snapshot = await getDocs(q);
            
            tbody.innerHTML = '';
            
            if (snapshot.empty) {
                tbody.innerHTML = '<tr><td colspan="6" class="text-center p-4 text-gray-400">No hay solicitudes registradas</td></tr>';
                return;
            }
            
            snapshot.forEach((docSnap) => {
                const d = docSnap.data();
                const tr = document.createElement('tr');
                tr.className = "border-b hover:bg-blue-50 cursor-pointer transition";
                tr.onclick = () => abrirModalEvaluacion(docSnap.id, d);
                
                let estadoColor = d.estado_ciarp === "APROBADO" ? "text-green-600" : 
                                 d.estado_ciarp === "NEGADO" ? "text-red-600" : "text-yellow-600";

                tr.innerHTML = `
                    <td class="p-3 text-sm">${d.fecha_recibido || 'N/A'}</td>
                    <td class="p-3 text-sm font-bold">${d.autor}</td>
                    <td class="p-3 text-sm">${d.titulo_producto}</td>
                    <td class="p-3 text-sm">${d.categoria}</td>
                    <td class="p-3 text-sm ${estadoColor} font-bold">${d.estado_ciarp}</td>
                    <td class="p-3 text-sm text-center font-bold ${d.puntaje > 0 ? 'text-green-700' : 'text-gray-400'}">${d.puntaje || '-'}</td>
                `;
                tbody.appendChild(tr);
            });
        }

        let idRegistroActual = null;

        window.abrirModalEvaluacion = (id, data) => {
            idRegistroActual = id;
            document.getElementById('modal-evaluacion').classList.remove('hidden');
            
            // Datos de Jos√© (solo lectura)
            document.getElementById('info-titulo').innerText = data.titulo_producto;
            document.getElementById('info-autor').innerText = data.autor;
            document.getElementById('info-programa').innerText = data.programa;
            document.getElementById('info-obs-jose').innerText = data.observaciones_jose || 'Sin observaciones';
            
            // Datos editables por Lina
            document.getElementById('edit-estado').value = data.estado_ciarp || "PENDIENTE";
            document.getElementById('edit-acta').value = data.acta_ciarp || "";
            document.getElementById('edit-resolucion').value = data.resolucion || "";
            document.getElementById('edit-documento').value = data.documento_id || "";
            document.getElementById('edit-escolaridad').value = data.escolaridad || "";
            document.getElementById('edit-categoria-doc').value = data.categoria_docente || "";
            document.getElementById('edit-dedicacion').value = data.dedicacion || "";
            document.getElementById('edit-pais').value = data.pais || "";
            document.getElementById('edit-puntaje').value = data.puntaje || 0;
            document.getElementById('edit-obs-lina').value = data.observaciones_lina || "";
        };

        window.cerrarModal = () => document.getElementById('modal-evaluacion').classList.add('hidden');

        window.guardarEvaluacion = async () => {
            if(!idRegistroActual) return;
            
            const actualizacion = {
                estado_ciarp: document.getElementById('edit-estado').value,
                acta_ciarp: document.getElementById('edit-acta').value,
                resolucion: document.getElementById('edit-resolucion').value,
                documento_id: document.getElementById('edit-documento').value,
                escolaridad: document.getElementById('edit-escolaridad').value,
                categoria_docente: document.getElementById('edit-categoria-doc').value,
                dedicacion: document.getElementById('edit-dedicacion').value,
                pais: document.getElementById('edit-pais').value,
                puntaje: Number(document.getElementById('edit-puntaje').value),
                observaciones_lina: document.getElementById('edit-obs-lina').value
            };

            await updateDoc(doc(db, 'registros_2024', idRegistroActual), actualizacion);
            alert("‚úÖ Evaluaci√≥n Guardada");
            cerrarModal();
            cargarPendientesLina();
        };

        // --- EXPORTAR EXCEL COMPLETO ---
        window.descargarExcel = async () => {
            const snapshot = await getDocs(collection(db, 'registros_2024'));
            const datos = [];
            snapshot.forEach(doc => {
                const d = doc.data();
                datos.push({
                    "A√±o": d.anio,
                    "Semestre": d.semestre,
                    "Categor√≠a": d.categoria,
                    "Fecha Recibido": d.fecha_recibido,
                    "T√≠tulo": d.titulo_producto,
                    "Autor": d.autor,
                    "Programa": d.programa,
                    "Doc. Completa": d.doc_completa,
                    "Estado CIARP": d.estado_ciarp,
                    "Acta": d.acta_ciarp,
                    "Resoluci√≥n": d.resolucion,
                    "C√©dula": d.documento_id,
                    "Escolaridad": d.escolaridad,
                    "Categor√≠a Docente": d.categoria_docente,
                    "Dedicaci√≥n": d.dedicacion,
                    "Pa√≠s": d.pais,
                    "Puntaje": d.puntaje,
                    "Obs. Jos√©": d.observaciones_jose,
                    "Obs. Lina": d.observaciones_lina
                });
            });
            const ws = XLSX.utils.json_to_sheet(datos);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Productividad 2024");
            XLSX.writeFile(wb, `Reporte_Productividad_${new Date().toISOString().split('T')[0]}.xlsx`);
        };

        signInAnonymously(auth);
        window.onload = () => { cambiarCategoria(); };
    </script>
</head>
<body class="bg-gray-100 font-sans h-screen flex flex-col">

    <div id="header-bg" class="bg-gray-800 text-white p-4 shadow-lg flex justify-between items-center transition-colors">
        <div>
            <h1 id="header-title" class="text-xl font-black tracking-wider">SISTEMA PRODUCTIVIDAD UQ</h1>
            <p class="text-[10px] opacity-75">Universidad del Quind√≠o - 2024</p>
        </div>
        <button onclick="location.reload()" class="text-xs bg-white/20 px-3 py-1 rounded hover:bg-white/40">Cerrar Sesi√≥n</button>
    </div>

    <!-- LOGIN -->
    <div id="pantalla-login" class="flex-1 flex items-center justify-center p-4">
        <div class="bg-white p-10 rounded-2xl shadow-2xl text-center max-w-md w-full">
            <div class="mb-8">
                <div class="text-4xl mb-3">üîê</div>
                <h2 class="text-2xl font-bold text-gray-700">Acceso al Sistema</h2>
                <p class="text-xs text-gray-500 mt-2">Universidad del Quind√≠o - Control de Productividad</p>
            </div>
            
            <!-- Login Jos√© -->
            <div class="bg-green-50 p-5 rounded-xl mb-4 border-2 border-green-200">
                <div class="font-black text-lg text-green-800 mb-3">üë§ JOS√â - Radicaci√≥n</div>
                <input 
                    type="password" 
                    id="password-jose" 
                    placeholder="Contrase√±a" 
                    class="w-full p-3 border-2 border-green-300 rounded-lg mb-3 focus:outline-none focus:border-green-600"
                    onkeypress="if(event.key==='Enter') intentarLogin('JOSE')"
                >
                <button 
                    onclick="intentarLogin('JOSE')" 
                    class="w-full bg-[#003d2b] hover:bg-green-900 text-white p-3 rounded-lg font-bold transition-transform hover:scale-105"
                >
                    INGRESAR
                </button>
            </div>

            <!-- Login Lina -->
            <div class="bg-blue-50 p-5 rounded-xl border-2 border-blue-200">
                <div class="font-black text-lg text-blue-800 mb-3">üë§ LINA - Evaluaci√≥n CIARP</div>
                <input 
                    type="password" 
                    id="password-lina" 
                    placeholder="Contrase√±a" 
                    class="w-full p-3 border-2 border-blue-300 rounded-lg mb-3 focus:outline-none focus:border-blue-600"
                    onkeypress="if(event.key==='Enter') intentarLogin('LINA')"
                >
                <button 
                    onclick="intentarLogin('LINA')" 
                    class="w-full bg-blue-800 hover:bg-blue-900 text-white p-3 rounded-lg font-bold transition-transform hover:scale-105"
                >
                    INGRESAR
                </button>
            </div>
        </div>
    </div>

    <!-- PANEL JOS√â -->
    <div id="panel-jose" class="hidden flex-1 overflow-auto p-4 md:p-8">
        <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-xl overflow-hidden">
            <div class="bg-green-50 p-4 border-b">
                <h3 class="text-green-800 font-bold text-lg">üìù Nueva Solicitud de Productividad</h3>
            </div>
            <form id="form-jose" class="p-6 space-y-5">
                <div class="grid grid-cols-3 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-600 mb-1">SEMESTRE</label>
                        <select id="semestre" required class="w-full border-2 p-2 rounded font-bold">
                            <option>I</option>
                            <option>II</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 mb-1">FECHA RECIBIDO</label>
                        <input type="date" id="fecha_recibido" required class="w-full border-2 p-2 rounded">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 mb-1">CATEGOR√çA</label>
                        <select id="categoria" onchange="cambiarCategoria()" required class="w-full border-2 p-2 rounded font-bold">
                            <option value="Art√≠culos Indexados">Art√≠culos Indexados</option>
                            <option value="Art√≠culos No Indexados">Art√≠culos No Indexados</option>
                            <option value="Ponencias">Ponencias</option>
                            <option value="Libro Texto">Libro Texto</option>
                            <option value="Libro Ensayo">Libro Ensayo</option>
                            <option value="Libro Investigaci√≥n">Libro Investigaci√≥n</option>
                            <option value="Software">Software</option>
                            <option value="Patente">Patente</option>
                            <option value="Tesis">Tesis</option>
                            <option value="T√≠tulos">T√≠tulos</option>
                            <option value="Ascensos">Ascensos</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label class="block text-xs font-bold text-gray-600 mb-1">T√çTULO DEL PRODUCTO</label>
                    <input type="text" id="titulo_producto" required class="w-full border-2 p-2 rounded">
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-600 mb-1">NOMBRE DEL AUTOR/DOCENTE</label>
                        <input type="text" id="autor" required class="w-full border-2 p-2 rounded">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 mb-1">PROGRAMA ACAD√âMICO</label>
                        <input type="text" id="programa" required class="w-full border-2 p-2 rounded">
                    </div>
                </div>

                <div id="campos-especificos" class="bg-gray-50 p-4 rounded border-2 border-dashed"></div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-600 mb-1">DOCUMENTACI√ìN COMPLETA</label>
                        <select id="doc_completa" class="w-full border-2 p-2 rounded font-bold">
                            <option>SI</option>
                            <option>NO</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-600 mb-1">OBSERVACIONES</label>
                        <input type="text" id="observaciones_jose" placeholder="Opcional" class="w-full border-2 p-2 rounded">
                    </div>
                </div>

                <button type="submit" id="btn-jose" class="w-full bg-[#003d2b] text-white py-3 rounded-lg font-bold hover:bg-black transition">
                    ‚úÖ RADICAR SOLICITUD
                </button>
            </form>
        </div>
    </div>

    <!-- PANEL LINA -->
    <div id="panel-lina" class="hidden flex-1 overflow-auto p-4 md:p-8">
        <div class="max-w-6xl mx-auto space-y-6">
            <div class="flex justify-between items-center">
                <h2 class="text-2xl font-bold text-blue-900">üìã Bandeja de Solicitudes Pendientes</h2>
                <button onclick="descargarExcel()" class="bg-green-600 text-white px-5 py-2 rounded-lg shadow hover:bg-green-700 font-bold flex items-center gap-2">
                    <span>üì•</span> Exportar a Excel
                </button>
            </div>

            <div class="bg-white rounded-xl shadow-xl overflow-hidden">
                <table class="w-full">
                    <thead class="bg-blue-100 text-blue-900 text-xs font-bold uppercase">
                        <tr>
                            <th class="p-3 text-left">Fecha</th>
                            <th class="p-3 text-left">Docente</th>
                            <th class="p-3 text-left">Producto</th>
                            <th class="p-3 text-left">Categor√≠a</th>
                            <th class="p-3 text-left">Estado</th>
                            <th class="p-3 text-center">Puntos</th>
                        </tr>
                    </thead>
                    <tbody id="tabla-pendientes"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- MODAL EVALUACI√ìN LINA -->
    <div id="modal-evaluacion" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-3xl overflow-hidden max-h-[90vh] overflow-y-auto">
            <div class="bg-blue-900 text-white p-4 flex justify-between items-center sticky top-0">
                <h3 class="font-bold text-lg">üìä Evaluaci√≥n CIARP</h3>
                <button onclick="cerrarModal()" class="text-3xl hover:text-gray-300">&times;</button>
            </div>
            
            <div class="p-6 space-y-5">
                <!-- Datos de Jos√© (Solo lectura) -->
                <div class="bg-green-50 p-4 rounded-lg border-2 border-green-200">
                    <p class="text-xs font-bold text-green-800 mb-2">üìù INFORMACI√ìN RADICADA POR JOS√â</p>
                    <div class="space-y-2">
                        <div><span class="font-bold text-gray-600">Producto:</span> <span id="info-titulo" class="text-gray-900"></span></div>
                        <div><span class="font-bold text-gray-600">Docente:</span> <span id="info-autor" class="text-gray-900"></span></div>
                        <div><span class="font-bold text-gray-600">Programa:</span> <span id="info-programa" class="text-gray-900"></span></div>
                        <div><span class="font-bold text-gray-600">Observaciones:</span> <span id="info-obs-jose" class="text-gray-600 italic"></span></div>
                    </div>
                </div>

                <!-- Evaluaci√≥n CIARP (Lina) -->
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">ESTADO CIARP *</label>
                        <select id="edit-estado" class="w-full border-2 border-blue-200 p-2 rounded font-bold">
                            <option value="PENDIENTE">PENDIENTE</option>
                            <option value="APROBADO">APROBADO</option>
                            <option value="NEGADO">NEGADO</option>
                            <option value="DEVUELTO">DEVUELTO</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">ACTA CIARP</label>
                        <input type="text" id="edit-acta" placeholder="Ej: 3-30/03/2024" class="w-full border-2 border-blue-200 p-2 rounded">
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">RESOLUCI√ìN</label>
                        <input type="text" id="edit-resolucion" class="w-full border-2 border-blue-200 p-2 rounded">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">DOCUMENTO IDENTIDAD</label>
                        <input type="text" id="edit-documento" class="w-full border-2 border-blue-200 p-2 rounded">
                    </div>
                </div>

                <!-- Informaci√≥n Acad√©mica -->
                <div class="grid grid-cols-3 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">ESCOLARIDAD</label>
                        <select id="edit-escolaridad" class="w-full border-2 border-blue-200 p-2 rounded">
                            <option value="">Seleccionar</option>
                            <option>Pregrado</option>
                            <option>Especializaci√≥n</option>
                            <option>Maestr√≠a</option>
                            <option>Doctorado</option>
                            <option>Posdoctorado</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">CATEGOR√çA DOCENTE</label>
                        <select id="edit-categoria-doc" class="w-full border-2 border-blue-200 p-2 rounded">
                            <option value="">Seleccionar</option>
                            <option>Auxiliar</option>
                            <option>Asistente</option>
                            <option>Asociado</option>
                            <option>Titular</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">DEDICACI√ìN</label>
                        <select id="edit-dedicacion" class="w-full border-2 border-blue-200 p-2 rounded">
                            <option value="">Seleccionar</option>
                            <option>TC</option>
                            <option>MT</option>
                            <option>C√°tedra</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">PA√çS</label>
                        <input type="text" id="edit-pais" class="w-full border-2 border-blue-200 p-2 rounded">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-blue-900 mb-1">PUNTAJE ASIGNADO *</label>
                        <input type="number" step="0.1" id="edit-puntaje" class="w-full border-2 border-blue-200 p-2 rounded font-bold text-right text-lg">
                    </div>
                </div>

                <div>
                    <label class="block text-xs font-bold text-blue-900 mb-1">OBSERVACIONES T√âCNICAS</label>
                    <textarea id="edit-obs-lina" rows="3" class="w-full border-2 border-blue-200 p-2 rounded"></textarea>
                </div>

                <button onclick="guardarEvaluacion()" class="w-full bg-blue-800 text-white py-3 rounded-lg font-bold hover:bg-blue-900 transition">
                    üíæ GUARDAR EVALUACI√ìN
                </button>
            </div>
        </div>
    </div>

</body>
</html>
